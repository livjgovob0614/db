# --------------------------------------------------------------------------------
# Build info
# --------------------------------------------------------------------------------
info.build.ciBuildNo=@env.BUILD_NUMBER@
info.build.ciBuildTag=@env.BUILD_TAG@
info.build.ciBuildUrl=@env.BUILD_URL@
info.build.ciJobName=@env.JOB_NAME@
info.build.ciGitSHA1=@env.BUILD_GIT_SHA1@

spring.application.name=metasfresh-print
spring.application.title=metasfresh print service

#
# Logging
#
# nothing right now

#
# Error handling
#
# see org.springframework.boot.autoconfigure.web.ErrorProperties.IncludeStacktrace
#server.error.include-stacktrace=always

#
# metasfreh-admin
#
# only try registering once a minute, because metasfresh-admin might not be running anyways
spring.boot.admin.period=60000
# don't log a warning if registration fails, in order not to pollute the log output in case metasfresh-admin is not running
logging.level.de.codecentric.boot.admin.services.ApplicationRegistrator=ERROR

#
# misc
#
# Issue https://github.com/metasfresh/metasfresh/issues/1578
# Specify an activemq broker URL. 
# Without this, the spring-boot health actuator endpoint tries to start its own broker using the URL vm://localhost.
# That results in the error, probably because the vm://localhost local broker can't start up cleanly..maybe because it wants to expose its JMX stuff via port 1099 which is already taken.
# Anyways, the metasfresh stack needs a JMS broker to be running, so we can as well tell spring boot to use that broker and not attempt to create a local one.
# Note: this property often needs to be overridden with a URL pointing to the *external* IP (or hostname) of the server running the JMS-broker.
spring.activemq.broker-url=tcp://127.0.0.1:61616
