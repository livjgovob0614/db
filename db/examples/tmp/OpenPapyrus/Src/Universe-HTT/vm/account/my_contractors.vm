## Universe-HTT / 2013## my_contractors.vm## Мои контрагенты<style>	#frm_my_contractors_add__link {		background: url("/rsrc/images/add.png") no-repeat scroll 3px 50% transparent;		cursor: pointer;		font-weight: bold;		padding: 5px 5px 5px 25px;		position: relative;		color: #336699 !important;	}	#frm_my_contractors_list__blk {	}	.frm-my-contractors-list-item {		margin: 5px 10px 5px 10px;		padding: 5px;		border-bottom: 1px solid #DEDEDE;		font-weight: bold;		color: #555555 !important;	}	.frm-my-contractors-list-item:hover {		color: #336699 !important;		text-decoration: underline;		border-bottom: 1px solid gray;	}	.frm-my-contractors-list-item:hover .frm-my-contractors-list-item-btn {		display: block;	}	.frm-my-contractors-list-item-btn {		display: none;		width: 15px;		height: 15px;		background: url("/rsrc/images/dd_btn_bg.png") no-repeat scroll 50% 50% transparent;		cursor: pointer;	}</style><div class="frm-acct-settings-layout uui-w100pct" id="frm_my_contractors__layout">	<div class="uui-helper-clearfix" style="padding-top:10px">		<div class="uui-float-right">			<a class="uui-float-right" id="frm_my_contractors_add__link">Создать</a>		</div>	</div>	<hr>	<div class="uui-w100pct" id="frm_my_contractors_list__blk">		#foreach($item in $list)			<div class="uui-helper-clearfix frm-my-contractors-list-item" personID="${item.ID}">				<div class="uui-float-left frm-my-contractors-list-item-title">${item.Name}</div>				<div class="uui-float-right frm-my-contractors-list-item-btn"></div>			</div>		#end	</div></div><script type="text/javascript">	var MyContractorsForm = {		//		## /* Элементы формы */		Layout            : $("#frm_my_contractors__layout"),		//		lnk_Add          : $("#frm_my_contractors_add__link"),		blk_Contractors   : $("#frm_my_contractors_list__blk"),		//		init : function() {			var _this = this;			## /* События */			_this.lnk_Add.Evt("click", function() {				UHTT.Person.Editor.edit($supplKindID, 0);			});			_this.blk_Contractors.delegate("div.frm-my-contractors-list-item-btn", "click", function() {								var buf = '<ul class="uui-dd-menu"> \							<li act="EDIT"><a>Редактировать</a></li> \							<li act="PRICE"><a>Выгрузить прайс-лист</a></li> \							</ul>';								var psnID = $(this).parent().attr("personID");								var handle = {					selector : "li",					evt : "mouseup",					fn : function() {						var action = $(this).attr("act");						switch(action) {							case "EDIT":							{								UHTT.Person.Editor.edit($supplKindID, psnID);								break;							}							case "PRICE":							{								var view = UHTT.Content.get("QUOTE_IMPORT", { sellerID: psnID });								new SDialog("FRM_QUOTE_IMPORT", view, {}, UHTT.Dialog.TYPE.INLINE);								break;							}							default:								break;						}					}				};								UHTT.DropDownBlock.show($(this), buf, [ handle ]);			});		}	};	$(document).ready(function() {		MyContractorsForm.init();    });</script>